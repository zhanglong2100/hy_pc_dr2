<div class="login-container">
    <div class="login-header"></div>
    <form nz-form [formGroup]="validateForm" class="register-form" (ngSubmit)="submitForm()">
        <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="loginName" nzRequired>用户名</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="请输入用户名!">
                <input nz-input id="loginName" formControlName="loginName"/>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="password" nzRequired>密码</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24" nzErrorTip="请输入密码!">
                <input
                    nz-input
                    type="password"
                    id="password"
                    formControlName="password"
                    (ngModelChange)="updateConfirmValidator()"
                />
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="confirmPassword" nzRequired>确认密码</nz-form-label>
            <nz-form-control [nzSm]="14" [nzXs]="24" [nzErrorTip]="errorTpl">
                <input nz-input type="password" formControlName="confirmPassword" id="confirmPassword"/>
                <ng-template #errorTpl let-control>
                    <ng-container *ngIf="control.hasError('required')">
                        请输入确认密码!
                    </ng-container>
                    <ng-container *ngIf="control.hasError('confirm')">
                        两次密码不一样!
                    </ng-container>
                </ng-template>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="tel" nzRequired>手机号码</nz-form-label>
            <nz-form-control
                [nzSm]="14"
                [nzXs]="24"
                [nzValidateStatus]="validateForm.controls['tel']"
                nzErrorTip="Please input your phone number!"
            >
                <nz-input-group [nzAddOnBefore]="addOnBeforeTemplate">
                    <ng-template #addOnBeforeTemplate>
                        <nz-select formControlName="phoneNumberPrefix" class="phone-select">
                            <nz-option nzLabel="+86" nzValue="+86"></nz-option>
                        </nz-select>
                    </ng-template>
                    <input formControlName="tel" id="'tel'" nz-input/>
                </nz-input-group>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item>
            <nz-form-label [nzSm]="6" [nzXs]="24" nzFor="verifyCode" nzRequired>验证码</nz-form-label>
            <nz-form-control
                [nzSm]="14"
                [nzXs]="24"
                nzErrorTip="请输入您收到的手机验证码!"
            >
                <div nz-row [nzGutter]="8">
                    <div nz-col [nzSpan]="12">
                        <input nz-input formControlName="verifyCode" id="captcha"/>
                    </div>
                    <div nz-col [nzSpan]="12">
                        <button nz-button (click)="generateVerifyCode($event)" [disabled]="btnDisable">点此获取</button>
                    </div>
                </div>
            </nz-form-control>
        </nz-form-item>
        <nz-form-item nz-row class="register-area">
            <nz-form-control [nzSpan]="14" [nzOffset]="6">
                <label nz-checkbox formControlName="agree">
                    <span>同意协议</span>
                </label>
            </nz-form-control>
        </nz-form-item>
        <span *ngIf="errorMessage" class="errorMessage">{{errorMessage}}</span>
        <nz-form-item nz-row class="register-area">
            <nz-form-control [nzSpan]="14" [nzOffset]="6">
                <button nz-button nzType="primary">注册</button>
            </nz-form-control>
        </nz-form-item>
    </form>
    <!--<div class="login-footer">广东绘宇智能勘测科技有限公司</div>-->
</div>



