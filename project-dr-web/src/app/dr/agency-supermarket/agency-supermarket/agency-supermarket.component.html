<!--<nz-card style="width: 3000px;overflow-x: scroll;">-->
<nz-card >
    <div class="mb-md" style="width: 100%;">
        <nz-input-group nzAddOnBefore="项目名称：">
            <label>
                <input nz-input [(ngModel)]="searchForm.projectName" style="width: 150px;" class="mr-sm">
            </label>
        </nz-input-group>

        <nz-input-group nzAddOnBefore="立项编号：">
            <label>
                <input nz-input [(ngModel)]="searchForm.projectApprovalCode" style="width: 150px;" class="mr-sm">
            </label>
        </nz-input-group>

        <nz-input-group nzAddOnBefore="中介超市：">
            <label>
                <input nz-input [(ngModel)]="searchForm.agencySupermarket" style="width: 150px;" class="mr-sm">
            </label>
        </nz-input-group>

<!--        <nz-input-group nzAddOnBefore="业务类型：" style="">
            <nz-select [(ngModel)]="searchForm.businessType" style="width: 150px;"  nzPlaceHolder="全部" nzAllowClear >
                <nz-option nzLabel="{{i.name}}" nzValue="{{i.code}}" [(ngModel)]="projectTypeCodes"
                           *ngFor="let i of projectTypeCodes"></nz-option>
            </nz-select>
        </nz-input-group>-->
        <nz-input-group nzAddOnBefore="业务类型：" style="">
            <nz-select style="width: 150px;" [(ngModel)]="searchForm.businessType" nzAllowClear>
                <nz-option nzValue="大地测量" nzLabel="大地测量"></nz-option>
                <nz-option nzValue="测绘航空摄影" nzLabel="测绘航空摄影"></nz-option>
                <nz-option nzValue="摄影测量与遥感" nzLabel="摄影测量与遥感"></nz-option>
                <nz-option nzValue="地理信息系统工程" nzLabel="地理信息系统工程"></nz-option>
                <nz-option nzValue="工程测量" nzLabel="工程测量"></nz-option>
                <nz-option nzValue="不动产测绘" nzLabel="不动产测绘"></nz-option>
                <nz-option nzValue="海洋测绘" nzLabel="海洋测绘"></nz-option>
                <nz-option nzValue="地图编制" nzLabel="地图编制"></nz-option>
                <nz-option nzValue="导航电子地图制作" nzLabel="导航电子地图制作"></nz-option>
                <nz-option nzValue="互联网地图服务" nzLabel="互联网地图服务"></nz-option>
                <nz-option nzValue="市政工程" nzLabel="市政工程"></nz-option>
                <nz-option nzValue="规划" nzLabel="规划"></nz-option>
                <nz-option nzValue="数据工程" nzLabel="数据工程"></nz-option>
                <nz-option nzValue="其他" nzLabel="其他"></nz-option>
            </nz-select>
        </nz-input-group>

        <nz-input-group nzAddOnBefore="是否立项：">
            <nz-select style="width: 150px;" [(ngModel)]="searchForm.ifProjectApproval" nzAllowClear>
                <nz-option nzValue="" nzLabel="全部"></nz-option>
                <nz-option nzValue="1" nzLabel="是"></nz-option>
                <nz-option nzValue="0" nzLabel="否"></nz-option>
            </nz-select>
        </nz-input-group>
        <nz-input-group nzAddOnBefore="是否报名：">
            <nz-select style="width: 150px;" [(ngModel)]="searchForm.ifApply" nzAllowClear>
                <nz-option nzValue="" nzLabel="全部"></nz-option>
                <nz-option nzValue="1" nzLabel="是"></nz-option>
                <nz-option nzValue="0" nzLabel="否"></nz-option>
            </nz-select>
        </nz-input-group>
        <nz-input-group nzAddOnBefore="是否中标：">
            <nz-select style="width: 150px;" [(ngModel)]="searchForm.ifBidding" nzAllowClear>
                <nz-option nzValue="" nzLabel="全部"></nz-option>
                <nz-option nzValue="1" nzLabel="是"></nz-option>
                <nz-option nzValue="0" nzLabel="否"></nz-option>
            </nz-select>
        </nz-input-group>
        <nz-input-group nzAddOnBefore="是否归档：">
            <nz-select style="width: 150px;" [(ngModel)]="searchForm.ifArchive" nzAllowClear>
                <nz-option nzValue="" nzLabel="全部"></nz-option>
                <nz-option nzValue="1" nzLabel="是"></nz-option>
                <nz-option nzValue="0" nzLabel="否"></nz-option>
            </nz-select>
        </nz-input-group>

        <nz-input-group nzAddOnBefore="选取方式：">
            <label>
                <input nz-input [(ngModel)]="searchForm.chooseType" style="width: 150px;" class="mr-sm">
            </label>
        </nz-input-group>

       <nz-input-group nzAddOnBefore="发布日期：">
            <nz-range-picker [(ngModel)]="dateRange"
                             [nzFormat]="dateFormat"
                             (ngModelChange)="dateRangeOnChange($event)"
            ></nz-range-picker>

        </nz-input-group>
        &nbsp;&nbsp;
        &nbsp;&nbsp;
        <nz-input-group nzAddOnBefore="创建时间：">
            <nz-range-picker [(ngModel)]="dateRange2"
                             [nzFormat]="dateFormat"
                             (ngModelChange)="dateRangeOnChange2($event)"
            ></nz-range-picker>
        </nz-input-group>

        &nbsp;&nbsp;
        &nbsp;&nbsp;
        <button nz-button nzType="primary" id="searchBtn" (click)="doSearch()"><i nz-icon nzType="search"></i>搜索
        </button>
        <button nz-button nzType="primary" id="redoBtn" (click)="reset()"><i nz-icon nzType="redo"></i>重置
        </button>

    </div>

    <base-grid
        [name]="'中介超市'"
        [keyField]="'id'"
        [usePage]="true"
        [showSort]="false"
        [showRefresh]="true"
        [columns]="columns"
        [searchForm]="searchForm"
        [showOperateDelete]="false"
        [showOperateModify]="false"
        [customDetail]="customDetail"
        [customButtons]="tpl"
        [scroll] = "{ x: '2000px' }"
        (customDetailClick)="customDetailClick($event)"

    >
        <!--[commitWrapper]="commitWrapper.bind(this)"-->
        <!--[customCommitMethod]="customCommitMethod.bind(this)"-->

    </base-grid>
    <ng-template #customDetail>
        <agency-supermarket-detail *ngIf="showDetail"
                                 [record]="record"
                                 [usePopup]="true"
                                 [title]="'新增中介超市公告'"
                                 [detailPanelType]="detailPanelType"
                                 (eventClose)="eventClose($event)"></agency-supermarket-detail>
    </ng-template>


    <ng-template #tpl>

        <ng-container >
            <button nz-button (click)="sort(); "><i nz-icon nzType="export" theme="outline"></i>一键排序
            </button>
        </ng-container>

        <ng-container >
            <button nz-button (click)="exports(); "><i nz-icon nzType="export" theme="outline"></i>导出
            </button>
        </ng-container>

        <ng-container >
            <nz-upload
                style="margin-left: 10px;margin-right: 10px;"
                [nzShowUploadList]="true"
                [nzAction]="uploadUrl"
                [nzFileList]="nzFileList"
                (nzChange)="handleChange"
                [nzCustomRequest]="customRequst.bind(this)"
                [nzBeforeUpload]="before.bind(this)"
                [nzMultiple]="true"
                [nzAccept]="'.xlsx'"
            >
                <button nz-button><i nz-icon nzType="upload"></i>导入Excel</button>
            </nz-upload>
        </ng-container>


    </ng-template>

</nz-card>
